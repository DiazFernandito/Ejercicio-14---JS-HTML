<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generación PDF</title>

    <!-- Librearía jsPDF
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>  -->
    <script src="jspdf/dist/jspdf.umd.min.js"></script>
    <!-- Función para imprimir PDF  -->
    <script>
        function generarPDF(p1) { 
            /* Variable con el nombre del cliente */
            let nombreDelCliente = p1.toUpperCase() ;
            /* La constante doc hereda propiedades, métodos y eventos de jsPDF */
            const { jsPDF } = window.jspdf ;
            const doc = new jsPDF({
                orientation: "portrait",
                unit: "mm",
                format: [210, 297]
                }) ;

            /* Compone el cupón */

            /* Felicitaciones*/
            doc.setFontSize(12);
            doc.setFont("helvetica", "bold");
            doc.text("¡ FELICITACIONES POR TU SUSCRIPCIÓN !", 105, 20, null, null, "center") ;

            /* Nombre y líneas */
            doc.setDrawColor(255, 0, 0);
            doc.setLineWidth(1);
            doc.line(50, 27, 160, 27);            
            doc.setFontSize(15);
            doc.setFont("times", "normal");
            doc.text(nombreDelCliente, 105, 35, null, null, "center") ;
            doc.setLineWidth(1);
            doc.line(50, 40, 160, 40);            

            /* logo */
            doc.addImage("pictures/colibri-png.png", "PNG", 70, 45);

            /* Porcentaje de descuento */
            doc.setFontSize(12);
            doc.setFont("courier", "bold");
            doc.text("Te ganaste un Descuento de:", 105, 135, null, null, "center");
            doc.setFontSize(30);
            doc.setFont("courier", "bold");
            doc.text("5%", 105, 148, null, null, "center");
            doc.setFontSize(12);
            doc.setFont("courier", "bold");
            doc.text("Presentando este cupón", 105, 157, null, null, "center");
            doc.text("en cualquiera de nuestras sucursales", 105, 162, null, null, "center");

            /* Validez del cupón */
            doc.setFontSize(8);
            doc.setFont("helvetica", "italic");
            doc.text("(*) Válido hasta el 31/08/2023", 105, 170, null, null, "center");

            /* Recuadro */
            doc.setDrawColor(0, 0, 0);
            doc.setLineWidth(0.2);
            doc.setLineDash([2.5]);
            doc.rect(40, 10, 130, 170);

            /*
            doc.setFontSize(12);
            doc.setFont("courier", "normal") ;
            doc.text("This is courier normal.", 20, 30) ;
            doc.setFont("times", "italic") ;
            doc.text("This is times italic.", 20, 40) ;
            doc.setFont("helvetica", "bold");
            doc.text("This is helvetica bold.", 20, 50) ;
            doc.setFont("courier", "bolditalic");
            doc.text("This is courier bolditalic.", 20, 60) ;        
            doc.text("This is centred text.", 105, 80, null, null, "center") ;
            doc.text("And a little bit more underneath it.", 105, 90, null, null, "center") ;
            doc.text("This is right aligned text", 200, 100, null, null, "right") ;
            doc.text("And some more", 200, 110, null, null, "right") ;
            doc.text("Back to left", 20, 120) ;
            doc.text(nombreDelCliente, 20, 150) ;
            */
            doc.save("cupon.pdf") ;
        }
    </script>
    
    
</head>

<body>
    <h1>GENERACIÓN DE PDF</h1>
    <p id="nombreCliente">rodrigo</p>
    <button type="button" onclick="generarPDF(document.getElementById('nombreCliente').innerHTML);">Suscribite</button>
</body>
</html>